<!doctype html><html lang=zh><head><title>objekyll使用指南</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><link rel=apple-touch-icon-precomposed href=https://s1.ax1x.com/2022/10/30/xIMChq.png><link rel=icon href=https://s1.ax1x.com/2022/10/30/xIMChq.png><link rel=stylesheet href=https://fastly.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/misans@3.1.1/lib/misans-400-regular.min.css><link rel=stylesheet href=/css/sidebar.css><link rel=stylesheet href=/css/style.css><script type=text/javascript src=/js/change-cdn.js></script>
<script type=text/javascript src=/js/anti-qqwechat.js></script></head><body><div class=content><h1 class=note-title>objekyll使用指南</h1><article class=toc-content><i class="fa-solid fa-calendar-plus fa-fw"></i> 2022-08-21 09:23 Sunday
<i class="fa-solid fa-file-word fa-fw"></i>2602
<i class="fa-solid fa-clock fa-fw"></i>6 min<br><i class="fab fa-creative-commons-by fa-fw"></i>
<a href=https://creativecommons.org/licenses/by/4.0/deed.zh rel=license>CC BY 4.0</a><br><h1 id=介绍>介绍</h1><p><a href=https://github.com/yaleiyale/obsidian-jekyll-blog>本仓库</a>的实践目的是将 obsidian 与 jekyll 相结合，本地记录，随处查看<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>。虽然两者的上手都有一定门槛，但希望使用本仓库能够实现<strong>难度 1+1&lt;2，效率 1+1>=2</strong>。本仓库中已经提供了基本的 obsidian 样例笔记库，可以开箱即用，其目录为<code>_notes文件夹</code>。样例中提供了一些样板文件和基础教程文件，可以参阅。熟手敬请自行引入你的 workflow。同时本仓库以插件的方式提供了双向链接，文件外部链接、excalidraw 绘图插入、标签、图谱等功能。创作时，参考 obsidian 样例仓库的笔记方法进行书写，无需更多配置即可方便地进行使用。本地使用 obsidian，安心书写，<em>A second brain, for you, forever.</em> 发布后，更可以自由渗透那个独立的<em>The second brain</em>。</p><blockquote><p>[!bug]<br>发现一直有人在clone我的博客仓库，为了让<strong>真正的小白</strong>不要clone错了仓库，在此特别贴心提醒：<em>github.com/yaleiyale/yaleiyale.github.io</em> 为我个人的博客，<em>github.com/yaleiyale/obsidian-jekyll-blog</em> 才是博客生成工具仓库 🙀</p></blockquote><h1 id=特性>特性</h1><ol><li>obsidian效果<ol><li>基础markdown渲染</li><li>支持引用与标注</li><li>支持表格</li><li>支持mermaid</li><li>支持LaTeX</li><li>正向链接</li><li>反向链接</li><li>文件外部链接</li><li>文件链接预览</li><li>脚注</li><li>大纲</li><li>标签归档</li><li>全局图谱</li></ol></li><li>插件效果<ol><li>Excalidraw.md绘图展示</li><li>emoji简码</li><li>图片浮窗查看</li><li>代码一键复制</li></ol></li><li>移动端适配<ol><li>自适应布局</li><li>屏蔽QQ微信内打开（防举报）</li></ol></li></ol><h1 id=发布方式>发布方式</h1><p>本文档提供两种发布方式进行表述，更多不同平台的部署有经验后可自行尝试，大同小异，各有优缺。本文档所表述的两种发布使用的服务来自<strong>Vercel</strong>与<strong>Github Pages</strong>。前者的部署更为简单，<del>中国大陆的访问效果更优</del><sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>。后者全程只需使用<strong>github</strong>服务，无需建立新的账号。</p><h2 id=vercel发布>Vercel发布</h2><h3 id=仓库配置>仓库配置</h3><ol><li>fork<a href=https://github.com/yaleiyale/obsidian-jekyll-blog>本仓库</a>，仓库名任意。</li><li>可删除<code>CNAME</code>，<code>main.yml</code>。打开<code>_config.yml</code>，绝大部分需要进一步配置的项都提供了注释，请仔细根据提示配置，万一有部分不理解的情况，请积极查阅拓展资料，以有效的进行你的配置与个性化调整。以<strong>Vercel发布</strong>方式进行部署，<code>url</code>字段可暂时不做处理。</li></ol><h3 id=连接>连接</h3><ol><li>建立<a href=https://vercel.com/>Vercel</a>账号，使用<strong>Github</strong>账号登录，方便后续导入。</li><li>选择你的仓库，点击<em>import</em>导入到<strong>vercel</strong><br><img src=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661259510/obsidian/zeuxgh4hgfqzo5phn4fi.png alt><br><img src=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661259536/obsidian/ehp6gwsbwmuxoxnnpvuu.png alt><br><img src=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661259568/obsidian/tynet8imx1xoprq6tstr.png alt><br><img src=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661259747/obsidian/ayzilsxuzehr4pmropxh.png alt></li><li>设定你的项目名称（不要有中文），其余默认。</li></ol><h3 id=部署调整>部署调整</h3><ol><li>点击<em>Deploy</em>，稍等片刻，当出现<em>congratulations</em>字样代表部署成功，已经可以访问博客。</li><li>建议根据生成的域名（或后续自定义域名），调整<code>_config.yml</code>中的<code>url</code>字段值，以生成正确的<em>sitemap</em><sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>。</li></ol><h2 id=github-pages发布>Github Pages发布</h2><h3 id=起步>起步</h3><ol><li>fork<a href=https://github.com/yaleiyale/obsidian-jekyll-blog>本仓库</a>，将仓库名改为<code>{你的github昵称}.github.io</code>。</li><li>事先未准备域名，则在你的仓库中将<code>CNAME</code>删除。若有域名则将<code>CNAME</code>中的文本替换为你的域名。关于自定义域名的更多详细配置，请自行查询资料，本指南后文所提可以不要求进行自定义域名。</li><li><img src=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661089854/obsidian/g6fxa11s5tfcnuukcwlj.png alt></li></ol><p>如图，在<strong>Branch</strong>中选择分支(初使用应该选为<code>main</code>和<code>root</code>)，点击 save，在<strong>Actions</strong>中观察到发布完成后，进入<code>Pages</code>，可观察到<img src=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661090145/obsidian/s919hgtgt8kchljyobs4.png alt>点击以进行访问，访问成功，那么你的博客就已经跑起来了。</p><h3 id=配置>配置</h3><ol><li>配置<code>_config.yml</code>。该部分完成后，理论上就已经完整搭建了你的独立专属个人博客。</li><li>仅完成上述步骤后的博客，所采用的构建方法为 Github 内置的后台 jekyll 生成，不能任意使用第三方插件。如果需要将 obsidian 的双向链接等结合到博客中，需要进一步配置。请打开<code>main.yml</code>，根据注释进行配置。在完成配置后，你的博客构建方法将采用自定义的<strong>Github Actions</strong><sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup>进行构建,此时请将<code>Pages</code>使用的分支改为<code>Actions</code>中所指定的分支。这种构建方式将能够借助<code>_plugins文件夹</code>中的插件实现自定义功能。在当前版本中，部署后可发现在样板博客中的双链、excalidraw 绘图展示等功能已经可用。</li></ol><h1 id=记录创作>记录/创作</h1><ol><li>将仓库 clone 到本地。</li><li>下载<a href=https://obsidian.md/>Obsidian</a>，使用 obsidian 打开<code>_notes文件夹</code>。<code>_notes</code>就是你的文件集中存放的地方。</li><li>笔记库中已经预置了一些个人推荐的插件<sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup>和参考样本，请自由探索尝试，开始你的创作。更多帮助文档，请参阅[[obsidian结合jekyll]]，或问问你的<a href=https://res.cloudinary.com/dbbz8b3ce/image/upload/v1661131544/obsidian/icglvr2xcfqdtkrhfnx3.png>神奇海螺</a>。</li><li>在obsidian的<a href=https://publish.obsidian.md/help-zh/%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/YAML+front+matter>front matter</a>中，<code>tags</code>中如果包含<code>rootnote</code>，该篇笔记将出现在侧边栏的<strong>聚点</strong>中，建议在起篇的笔记/目录中加入<code>rootnote</code>，该类功能可自行增删。如果根据文件夹安排文件，且文件排布顺序不需要在目录中进行调整，可以使用<code>waypoint</code>插件自动生成上级文件夹下的文件目录。</li><li><code>_knots文件夹</code>中的文件在本仓库中作为侧边栏中的永久链接使用。在其中的<code>tags.md</code>等文件中，以<code>游戏标签</code>，提供了一个标签细分，二级导航的案例，根据你的需要，在理解了模板的意义后，尽情进行你的自由发挥。</li></ol><h1 id=yours>Yours</h1><ol><li>创作告一阶段后，将仓库 push 到 github，<strong>Github Actions</strong>或<strong>Vercel Build</strong>将自动进行发布。当上述所有的步骤都完成后，基础博客所具有的功能都将得到展现。<strong>github pages 发布</strong>方式，在完成[[objekyll使用指南#配置]]中的第 2 条后，包括标签、图谱也都将可用。</li><li>更进一步的功能需求实现，需要你自己的进一步开发。由于本库作者的个人能力有限，这个样板仓库<strong>AS IS</strong>。有有价值的功能或优美的实现，如果可以，请让作者也瞅瞅。</li></ol><hr><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>还可以将本仓库放在你的 onedrive 中,将 obsidian 库使用<a href="https://play.google.com/store/apps/details?id=com.ttxapps.onesyncv2&hl=zh&gl=US">OneSync</a>同步到你的移动设备上，在 obsidian 移动端中编辑查看同步。&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>2022/8/27已被中国大陆封禁。&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>搜索优化相关，可不做调整。&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>关于 Github Actions，可理解为在 github 提供的虚拟机中进行编译生成与部署等操作，感兴趣请自行探索。也可采用 jekyll 本地构建的方式，以方便如自定义脚本的编写调试工作等。在本指南中不进行赘述，请参阅<a href=https://www.jekyll.com.cn/>Jekyll 一个将纯文本内容转化为静态网站或博客的工具</a>。&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p>其中的 Obsidian Cloudinary Uploader，如需使用，需要在 Cloudinary 网站中申请账号，在插件列表进行配置。免费账号提供的服务足足够够支撑一个小型个人博客的使用。（很好用，推荐使用，感谢使用我的<a href="https://cloudinary.com/invites/lpov9zyyucivvxsnalc5/h84ed9tsekqvcjy3opuz?t=default">邀请码</a>。&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><br></article><style>.toc{position:fixed;left:80vw;top:5rem}@media only screen and (max-width:540px){.toc{display:none}}</style><ol class=toc></ol><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.css><script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.18.2/tocbot.min.js></script>
<script>tocbot.init({tocSelector:".toc",contentSelector:".toc-content",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0})</script></div><style>.end-article{text-align:center;margin:2rem auto;width:fit-content}</style><div class=end-article><div class=article-nav style=margin-bottom:1.5rem><a href=http://lestua.ml/notes/2022/08/29/225022/><i class="fa-solid fa-left-long fa-beat" style="font-size:2rem;margin:1rem 1.2rem"></i></a>
<a href=/archives><i class="fa-solid fa-star-of-david fa-beat" style="font-size:2rem;margin:1rem 1.2rem"></i></a>
<a href=http://lestua.ml/notes/2022/09/13/223945/><i class="fa-solid fa-right-long fa-beat" style="font-size:2rem;margin:1rem 1.2rem"></i></a></div><div class=social-share style=margin-bottom:1.5rem></div><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/yaleiyale/share.js@1.0/dist/share.min.css><script src=https://cdn.jsdelivr.net/gh/yaleiyale/share.js@1.0/dist/share.min.js></script>
<a id=cola href=/merger><img src=https://s1.ax1x.com/2022/10/30/xIMoKU.png alt=BuyMeACola width=180 style=margin:auto></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@waline/client@2.13.0/dist/waline.css><script src=https://cdn.jsdelivr.net/npm/@waline/client@2.13.0/dist/waline.js></script><style>@media only screen and (min-width:540px){#waline{max-width:60vw;margin:auto}}</style><div id=waline></div><script>const locale={placeholder:"匿名可行 但说无妨",sofa:"🈚",reactionTitle:"REACTION"};Waline.init({el:"#waline",serverURL:"https://lestua.cn.eu.org",reaction:["https://s1.ax1x.com/2022/10/30/xIM5vT.png","https://s1.ax1x.com/2022/10/30/xIM42V.png","https://s1.ax1x.com/2022/10/30/xIMh80.png"],locale})</script><input type=checkbox id=sidebar-checkbox>
<label for=sidebar-checkbox class=sidebar-toggle></label><div class=sidebar><div class=sidebar-item><div class=effect><img class=effect-img src=https://s1.ax1x.com/2022/10/30/xIMChq.png alt=img><div class=effect-info>书事<br>唐·王维<br>轻阴阁小雨，
<a href=mailto:deilookout@outlook.com><i class="fa-solid fa-envelope fa-fw fa-bounce"></i></a><br>深院昼慵开。
<a href=https://github.com/yaleiyale><i class="fa-brands fa-github fa-fw fa-bounce"></i></a><br>坐看苍苔色，
<a href=https://www.acfun.cn/u/31661560><i class="fa-solid fa-otter fa-fw fa-bounce"></i></a><br>欲上人衣来。
<a href=https://space.bilibili.com/357477198><i class="fa-brands fa-bilibili fa-fw fa-bounce"></i></a></div></div></div><input id=sidebar-search-input placeholder=搜索博文><ol id=sidebar-search-results-container></ol><script src=/js/fuse.min.js></script>
<script src=/js/fastsearch.js></script><nav class=sidebar-nav><a href=/board><i class="fa-solid fa-comment fa-fw"></i> 留言</a>
<a href=/road><i class="fa-solid fa-seedling fa-fw"></i> 聚点</a>
<a href=/archive><i class="fa-solid fa-archive fa-fw"></i> 归档</a>
<a href=/tags><i class="fa-solid fa-tags fa-fw"></i> 标签</a>
<a href=/map><i class="fa-solid fa-circle-nodes fa-fw"></i> 图谱</a>
<a href=/merger><i class="fa-solid fa-coffee fa-fw"></i> 打赏</a></nav><div class=sidebar-info><div><i class="fa-solid fa-cog fa-spin fa-fw"></i>
<span id=run_time_day></span>天
<span id=run_time_hour></span>时
<span id=run_time_minute></span>分
<span id=run_time_second></span>秒
<script>setInterval(function(e,t,n,s,o){function i(e){return e<10?"0"+e:e}let p=new Date(o),f=new Date,c=f.getTime()-p.getTime(),h=c/1e3,b=Math.floor(h),m=24*60*60*1e3,l=c/m,d=Math.floor(l),r=(l-d)*24,a=Math.floor(r),g=(r-a)*60,u=Math.floor((r-a)*60),v=Math.floor((g-u)*60);e.textContent=d,t.textContent=i(a),n.textContent=i(u),s.textContent=i(v)},1e3,document.getElementById("run_time_day"),document.getElementById("run_time_hour"),document.getElementById("run_time_minute"),document.getElementById("run_time_second"),"07/23/2022 10:59:03")</script></div><div><div><i class="fa-solid fa-eye fa-fw"></i>
<span id=busuanzi_value_page_pv><i class="fa-solid fa-spinner fa-pulse"></i>
</span>次</div><div><i class="fa-solid fa-paw fa-fw"></i>
<span id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-pulse"></i>
</span>枚</div><div><i class="fa-solid fa-user-friends fa-fw"></i>
<span id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-pulse"></i>
</span>人</div><script src=https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js async></script></div><div><i class="fa-solid fa-thumbs-up fa-fw"></i>
<a href=https://github.com/yaleiyale/hugo-theme-atlas>theme: Atlas</a></div><div><i class="fa-solid fa-copyright fa-fw"></i>
2021-2022 yaleiyale</div></div><script src=/js/mobiletap.js defer></script></div><link rel=stylesheet href=/css/tools.css><link rel=stylesheet href=//cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css><script src=//cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js defer></script>
<script src=//cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js defer onload='renderMathInElement(document.querySelector("article"),{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})'></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js async onload='for(let e of document.getElementsByClassName("language-mermaid"))if(e.nodeName=="CODE"){let t=document.createElement("div");t.classList.add("mermaid"),t.textContent=e.textContent,e.parentNode.insertAdjacentElement("beforebegin",t)}'></script>
<script type=text/javascript src=/js/annotation.js></script><style>pre.language-vega-lite,code.language-vega-lite{display:none}</style><script src=https://cdn.jsdelivr.net/combine/npm/vega@5.22.1,npm/vega-lite@5.2.0,npm/vega-embed@6.21.0 async onload='for(let e of document.getElementsByClassName("language-vega-lite"))if(e.nodeName=="CODE"){let t=document.createElement("div");e.parentNode.insertAdjacentElement("beforebegin",t),vegaEmbed(t,JSON.parse(e.textContent))}'></script><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.10.5/viewer.min.js></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/viewerjs/1.10.5/viewer.min.css><script type=text/javascript>var i,content=document.querySelector("article"),list,imgCount,imgNow,viewer;if(content&&(list=content.querySelectorAll("img"),list&&(imgCount=list.length,viewer=[],imgCount>0)))for(i=0;i<imgCount;i++)imgNow=list[i],viewer[i]=new Viewer(imgNow)</script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css><script src=https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js></script><style>@media only screen and (max-width:540px){meting-js{display:none}}</style><meting-js server=netease type=playlist id=7751556455 fixed=true order=random lrc-type=0></meting-js>
<script src=https://cdn.jsdelivr.net/gh/yaleiyale/lamu-leimu-button@1.0/lamu-leimu.min.js></script><style>@media only screen and (max-width:540px){.pio-container{display:none}}</style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/Dreamer-Paul/Pio@2.4/static/pio.min.css><div class="pio-container left"><div class=pio-action></div><canvas id=pio width=272 height=272></canvas></div><script>async function getSentence(){let e;return await fetch("https://v1.hitokoto.cn").then(e=>e.json()).then(t=>e=t.hitokoto).catch(console.error),e}async function initPio(){let e=await getSentence(),t=new Paul_Pio({mode:"fixed",hidden:!0,content:{link:["https://github.com/yaleiyale/obsidian-hugo-blog"],skin:["要换成我的朋友吗？","让她放个假吧~"],hidden:!0,welcome:e,touch:e,referer:"哇哦，从 %t 穿越来的！",custom:[{selector:"a",type:"link"},{selector:"#cola",text:"打赏要理性哦😻"},{selector:"img",text:"click🎉"},{selector:".wl-reaction",text:"我来要赞咯🌟"},{selector:".wl-comment",text:"文明发言，不然会被🚫哦"},{selector:".highlight",text:"代码可以一键复制呢🔖"},{selector:".sidebar-toggle",text:"打开侧边栏叭🗂️"},{selector:".effect-info",text:"哇，你发现了什么❗"},{selector:"#sidebar-search-input",text:"想搜索什么呢❓"},{selector:".note-title",text:"这是标题✨"},{selector:".article-nav",text:"再逛一会叭🎈~"},{selector:".social-share",text:"分享分享😏"}]},model:["/model/umaru/model.json","/model/rem/model.json","/model/koharu/model.json","/model/kurumi/model.json"]})}</script><script async src=https://cdn.jsdelivr.net/combine/gh/Dreamer-Paul/Pio@2.4/static/l2d.min.js,gh/Dreamer-Paul/Pio@2.4/static/pio.min.js onload=initPio()></script></body></html>